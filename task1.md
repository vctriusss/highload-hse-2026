# Яндекс.Афиша

## 1 Тема и описание сервиса

### 1.1 Тема

Онлайн-платформа для поиска, бронирования и покупки билетов на мероприятия (концерты, спектакли, выставки, спортивные события).

Акцент на высоконагруженную архитектуру для пиковых продаж (билеты на долгожданные мероприятия с ограниченным числом мест

### 1.2 Аналоги (доказательство рыночной ниши)

- Kassir.ru (Россия, ~10 млн пользователей в месяц)
- Ponominalu (Россия, ~5 млн пользователей)
- Ticketmaster (глобальный рынок, ~150 млн пользователей)

Российский рынок онлайн-продажи билетов оценивается в $1.2 млрд (2023, данные ResearchGate).

Рост спроса на цифровые билеты: +35% за 2 года (постпандемический бум мероприятий).

### 1.3 Целевая аудитория

**MAU**: 5 млн (реальные данные Яндекс.Афиши за 2023 г., подтверждены публичными отчетами Яндекса).
**Местоположение**: Россия и страны СНГ. 85% трафика — крупные города (Москва, Санкт-Петербург, Новосибирск, Минск, Алматы).
    
**Пиковые нагрузки**:
До 100 000 одновременных пользователей при старте продаж на массовые события (концерты популярных групп).
Сезонные всплески: +400% трафика в преддверии Нового года (праздничные шоу).

### 1.4 Ключевой функционал MVP

| №	| Функция	|Описание	|
|---|---|---|
|1	| Поиск и лента мероприятий | Пользователь ищет события по дате, локации, категории («концерты», «театр»), либо выбирает мероприятие из ленты рекомендаций |
|2	| Интерактивная схема зала | Отображение доступных мест на плане зала в реальном времени |
|3	| Временная блокировка мест	| Резервирование выбранных мест на 10–15 минут до оплаты |
|4	| Оплата билетов | Интеграция с платежными шлюзами |
|5 | Генерация и отправка электронного билета	| Мгновенная выдача PDF-билета с QR-кодом после оплаты |
|6 | Отзывы на мероприятия | Возможность для пользователей создавать и просматривать отзывы |

## 1.5. Ключевые продуктовые решения

| №	| Решение	|Описание	|
|---|---|---|
|1 | Временная блокировка мест | Места блокируются только в кэше с TTL, а не в БД, чтобы снизить нагрузку на основную систему |
|2 | Отказ от синхронной записи в БД | Для лучшего UX и ускорения реакции интерфейса фиксация в БД только после оплаты |
|3 | Распрелеленная блокировка | В пике тысячи пользователей из разных стран мира могут пытаться забронировать одно место одновременно, поэтому требуется распределенная блокировка |
|4 | Геозависимая выдача | Поисковая выдача и лента рекомендаций должна учитывать географическое положение пользователя и предлагать мероприятия как можно ближе |
|5 | Хранение билетов в отдельном хранилище | Для формирования билетов используются асинхронные операции, сами билеты хранятся в облачном хранилище (S3) |
|6| Модерация | Отзывы пользователей должны проходить модерацию |
